!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("procoreIframeHelpers",[],n):"object"==typeof exports?exports.procoreIframeHelpers=n():t.procoreIframeHelpers=n()}(window,function(){return function(e){var o={};function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=o,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)i.d(e,o,function(t){return n[t]}.bind(null,o));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,e){"use strict";e.r(n);var o=function(){return function(t){var i=this;this.authenticate=function(t){if(i.context instanceof r)console.error("Cannot authenticate in this context");else{var n=t.width||560,e=t.height||600,o=new URL(t.url,i.context.window.location.href);i.authWindow=i.context.window.open(String(o),"_blank","\n        toolbar=no,\n        location=yes,\n        status=no,\n        menubar=no,\n        scrollbars=yes,\n        width="+n+",\n        height="+e+",\n        top="+(i.context.window.outerHeight/2-e/2)+",\n        left="+(i.context.window.outerWidth/2-n/2)+",\n      "),i.onAuthSuccess=t.onSuccess,i.onAuthFailure=t.onFailure,i.monitor=i.context.window.setInterval(function(){i.authWindow&&!i.authWindow.closed||(i.clearMonitor(),i.onAuthFailure({type:"canceled_by_user",reason:"Cancelled by User"}))},100)}},this.notifySuccess=function(t){i.context.parentWindow.postMessage({type:"authentication.success",payload:t},i.context.window.location.origin)},this.notifyFailure=function(t){i.context.parentWindow.postMessage({type:"authentication.failure",payload:t},i.context.window.location.origin)},this.handleSuccessMessage=function(t){i.clearMonitor(),i.authWindow&&i.authWindow.close(),i.onAuthSuccess&&i.onAuthSuccess(t)},this.handleFailureMessage=function(t){i.clearMonitor(),i.authWindow&&i.authWindow.close(),i.onAuthFailure&&i.onAuthFailure(t)},this.clearMonitor=function(){clearInterval(i.monitor),i.monitor=void 0},this.context=t}}(),r=function(){return function(){this.window=window,this.parentWindow=window.opener,this.authentication=new o(this)}}(),i=function(){return function(){var e=this;this.processMessage=function(t){var n=t.origin;if(t.source!==e.window&&n===e.window.location.origin&&"object"==typeof t.data)switch(t.data.type){case"authentication.success":e.authentication.handleSuccessMessage(t.data.payload);break;case"authentication.failure":e.authentication.handleFailureMessage(t.data.payload)}},this.window=window,this.parentWindow=window.parent,this.authentication=new o(this),this.window.addEventListener("message",this.processMessage,!1)}}();function a(){return null!==window.opener?new r:new i}e.d(n,"initialize",function(){return a})}])});